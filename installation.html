<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <title>AVINA website</title>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-expand-sm navbar-light bg-light">
      <div class="container">
        <span class="navbar-brand mb-0 h1">AVINA</span>
        <button 
        type="button" 
        data-bs-toggle="collapse" 
        data-bs-target="#navbar"
        aria-controls="navbar" 
        aria-expanded="false"
        aria-label="Toggle navigation"
        class="navbar-toggler"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar">
          <ul class="navbar-nav ms-auto ">
            <li class="nav-item active">
              <a href="index.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item active">
              <a href="overview.html" class="nav-link">Overview</a>
            </li>
            <li class="nav-item active">
              <a href="#" class="nav-link">Installation</a>
            </li>
            <li class="nav-item active">
              <a href="test.html" class="nav-link">Test</a>
            </li>
            <li class="nav-item active">
              <a href="team.html" class="nav-link">Team</a>
            </li>
            <li class="nav-item active">
              <a href="https://github.com/UCL-SightPlusPlus" class="nav-link">
                <i class="fab fa-github" style="width:25px; height:25px;"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Main Content-->
    <div class="container mt-5 head">
      <div class="text-center">
        <div id="installation" style="margin-bottom: 5%;">
          <h2 class="fw-light">Installation</h2>
          <div class="container text mt-5" style="width: 70%;"> 
            <h4 class="fw-light">App</h4>
            <p>
              The app only works on Android for now. We recommend using it on devices with Android version under 11.0 for the best user experience. On Android 11.0 the user has to grant 'always' level permission for 'access location' in the setting page.
            </p>
            <ul>
              <li>To open the project, please download the Flutter sdk and add it to the environment PATH.</li>
              <li>Then you have to install Android Studio and add Flutter and Dart plugin to it. </li>
              <li>Go to pubspec.yaml and run 'flutter pub get' to download all the dependencies.</li>
              <li>Use Android Studio to open the project, add a run configuration and set the Dart entry point to 'main.dart'.</li>
              <li>Go to 'network_server_state.dart' and change the values in the 'connectToWifi' function.</li>
              <li>Set up your own network, start local server under that network.</li>
              <li>Turn on the developer mode on your phone and connect it to your laptop.</li>
              <li>Run the app on your phone.</li>
            </ul>
            <h4 class="fw-light">Bluetooth Beacons</h4>
            <p>We recommand using beacons from 'jaalee' and using iBeacon mode. If you are not using 'jaalee' beacons, please make sure the beacons support iBeacon protocol and go to 'bluetooth_beacon_state.dart' then change the identifier in the 'initBeaconScanner' function to your identifier(s).

              When configuring the Bluetooth beacons, set the Major field as floor id and Minor field as room id.</p>
            <h4 class="fw-light">Location Server</h4>
            <h5 class="fw-light">Prerequisites</h5>
            <ul>
              <li>An Azure account with access to QnA service.</li>
              <li>Docker</li>
              <li>Powershell Core</li>
              <li>Complete the Organisation server installation & deployment as you will be asked the Domain Name or IP of the organisation server during setup.</li>
            </ul>
            <h5 class="fw-light">Create an Azure QnA Service and a KnowledgeBase</h5>
            <p>Since AVINA integrates with a Chatbot service to answer the user's questions, the relevant information about the service must be provided when setting up the application. To create the Azure QnA Service and the Knowledge Base navigate to Azure QnA Maker. Follow the instructions to complete the creation of the chatbot. After the creation of the service, you will be redirected to page like this:</p>
            <img src="images/kb.png" alt="knowledge base" width="90%">
            <p>The Knowledge Base Host is the HTTPS URL in the 2nd line without the /qnamaker. (ex. https://gosh-bot.azurewebsites.net)</p>
            <p>The Endpoint Key is located on the 3rd line after EndpointKey {EndpointKey}.</p>
            <p>The Knowledge Base ID is at the 1st line between the /knowledgebases/{Knowledge Base ID}/generateAnswer.</p>
            <h5 class="fw-light">Deployment and Configuration</h5>
            <p>The AVINA location server is a containerized application, so it can easily be deployed to a cloud service or configured to run on a custom (on-premises) windows, linux, or mac-os machine of your choosing. An on-premise installation is favorable so that the multiple cameras that are installed can send records to the server with minimum latency. A Powershell script is provided to automate configuration.</p>
            <b>Deploying AVINA location server to a server of your choosing</b>
            <ul>
              <li>Download the code.</li>
              <li>
                <p>Once downloaded, under the /scripts directory you will find a Powershell Core script named ConfigureSightPlusPlusAppSettings.ps1.</p>
                <p>Once run (with Powershell Core) the script will ask you to fill in the required settings to configure the .env file, such as the Knowledge Base ID, the Knowledge Base Host and the Endpoint Key that were generated in an earlier step.</p>
              </li>
              <li>After configuring the application, you can deploy it by running docker-compose up --build -d.</li>
            </ul>
            <h4 class="fw-light">Organisation Server</h4>
            <h5 class="fw-light">Prerequisites</h5>
            <ul>
              <li>Docker</li>
            </ul>
            <h5 class="fw-light">Deployment and Configuration</h5>
            <p>The AVINA organisation server is a containerized application, so it can easily be deployed to a cloud service or configured to run on a custom (on-premises) windows, linux, or mac-os machine of your choosing.</p>
            <b>Deploying AVINA organisation server to a server of your choosing</b>
            <ul>
              <li>Download the code.</li>
              <li>Once downloaded, under the /public/images directory replace the existing logo.png with your organisation's logo after naming it logo.png.</li>
              <li>Open the .env file with any editor and replace the ORG_NAME value with your organisation's name.</li>
              <li>Deploy the server by running docker-compose up --build -d.</li>
              <li>Open a browser and redirect to localhost:5000</li>
            </ul>
            <i>For Azure deployment, you can follow this <a href="https://docs.microsoft.com/en-us/azure/container-instances/tutorial-docker-compose">guide</a></i>
          </div>
      </div>
      
    </div>
    <!-- Footer-->
    <footer class="border-top">
      <img src="images/logos.png" style="width: 500px; height: 58.5px; display: block; margin: auto;" class="mt-3 mb-3">
      <div class="small text-center text-muted fst-italic">Copyright &copy; AVINA 2021</div>
    </footer>    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

  </body>
</html>
